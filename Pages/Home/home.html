<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEI News | Notícias Ao Vivo do Brasil e do Mundo</title>
    <link rel="stylesheet" href="/Style/style.css">
    <link rel="icon" href="/Img/dei1.png" type="image/x-icon">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;700&display=swap');
    </style>
</head>

<body>
    <header class="header">
        <div class="logo">
            <a href="/Pages/Home/home.html">
                <img src="/Img/dei1.png" class="logo" alt="DEI">
            </a>
        </div>
        <nav class="nav">
            <ul>
                <li><a href="/Pages/Politica/politica.html">Política</a></li>
                <li><a href="/Pages/Economia/economia.html">Economia</a></li>
                <li><a href="/Pages/Esportes/esportes.html">Esportes</a></li>
                <li><a href="/Pages/Entretenimento/entretenimento.html">Entretenimento</a></li>
                <li><a href="/Pages/Blogs/blog.html">Blogs e Colunas</a></li>
                <li><a href="/Pages/Login/login.html" class="login-button">Login</a></li>
            </ul>
        </nav>
    </header>

    <main class="main">
        <!-- Seção de Destaque -->
        <section id="destaque" class="destaque">
            <img id="destaqueImg" src="/Img/default.jpg" alt="Imagem de destaque">
            <div class="destaque-texto">
                <h2 id="destaqueTitulo">Título da notícia em destaque</h2>
                <p id="destaqueDescricao">Descrição da notícia em destaque.</p>
            </div>
        </section>
        
        <!-- Seção de Últimas Notícias -->
        <section class="ultimas-noticias">
            <h2>Últimas Notícias</h2>
            <ul>
                <li>
                    <img id="noticia1Img" src="/Img/default.jpg" alt="Imagem da notícia 1">
                    <h3><a id="noticia1Titulo" href="#">Título da Notícia 1</a></h3>
                    <p id="noticia1Descricao">Descrição da Notícia 1.</p>
                </li>
                <li>
                    <img id="noticia2Img" src="/Img/default.jpg" alt="Imagem da notícia 2">
                    <h3><a id="noticia2Titulo" href="#">Título da Notícia 2</a></h3>
                    <p id="noticia2Descricao">Descrição da Notícia 2.</p>
                </li>
                <li>
                    <img id="noticia3Img" src="/Img/default.jpg" alt="Imagem da notícia 3">
                    <h3><a id="noticia3Titulo" href="#">Título da Notícia 3</a></h3>
                    <p id="noticia3Descricao">Descrição da Notícia 3.</p>
                </li>
            </ul>
        </section>
    </main>

    <script>
        const apiUrl = 'http://localhost:8080/api/items';

        // Função para buscar notícia por ID e atualizar a página
        async function getItemById(itemId, section) {
            try {
                const response = await fetch(`${apiUrl}/${itemId}`);
                if (!response.ok) throw new Error(`Erro ao buscar item: ${response.status}`);

                const item = await response.json();

                // Atualizar o conteúdo de acordo com a seção
                if (section === 'destaque') {
                    document.getElementById('destaqueTitulo').textContent = item.name;
                    document.getElementById('destaqueDescricao').textContent = item.description || 'Sem descrição disponível.';
                    document.getElementById('destaqueImg').src = item.imageUrl || '/Img/default.jpg';
                } else if (section === 'noticia1') {
                    document.getElementById('noticia1Titulo').textContent = item.name;
                    document.getElementById('noticia1Descricao').textContent = item.description || 'Sem descrição disponível.';
                    document.getElementById('noticia1Img').src = item.imageUrl || '/Img/default.jpg';
                } else if (section === 'noticia2') {
                    document.getElementById('noticia2Titulo').textContent = item.name;
                    document.getElementById('noticia2Descricao').textContent = item.description || 'Sem descrição disponível.';
                    document.getElementById('noticia2Img').src = item.imageUrl || '/Img/default.jpg';
                } else if (section === 'noticia3') {
                    document.getElementById('noticia3Titulo').textContent = item.name;
                    document.getElementById('noticia3Descricao').textContent = item.description || 'Sem descrição disponível.';
                    document.getElementById('noticia3Img').src = item.imageUrl || '/Img/default.jpg';
                }
            } catch (error) {
                console.error('Erro ao buscar item:', error);
                alert(`Erro ao buscar item ${itemId}.`);
            }
        }

        // Inicializar conteúdo com IDs específicos
        window.onload = () => {
            getItemById(1, 'destaque');  // ID 1 para destaque
            getItemById(2, 'noticia1');  // ID 2 para notícia 1
            getItemById(3, 'noticia2');  // ID 3 para notícia 2
            getItemById(4, 'noticia3');  // ID 4 para notícia 3
        };
    </script>
</body>

</html>
